<!DOCTYPE html>
<html>
<head>
    <title>To-do List</title>
</head>
<body>
    <h1>To-do List</h1>
    
    <form method="post" action="insert" style="display: flex;flex-direction: column;gap:10px;width:50%">
        {% csrf_token %}
        <label for="title">Title:</label>
        <input type="text" id="title" name="title"  >
        
        <label for="description">Description:</label>
        <textarea id="description" name="description"  ></textarea>
        
        <label for="due_date">Due Date:</label>
        <input type="date" id="due_date" name="due_date">
        
        <label for="tags">Tags:</label>
        <input type="text" id="tags" name="tags">
        
        <label >Status:</label>
        <select name="status"  required >
            <option value="select" selected disabled>select</option>

            <option value="OPEN"   >OPEN</option>
            <option value="WORKING"   >WORKING</option>
            <option value="OPEN"   >OPEN</option>
            <option value="OVERDUE"  >OVERDUE</option>
        </select>
        <button type="submit">Add Task</button>
    </form>
    
    <h2>Tasks:</h2> 
<ul >
    {% for todo in todos %}  

    <li >
        <div style="display: flex; gap:10px" >
        <h3>{{ todo.title }}</h3>  
          <form method="post" action="delete">
            {% csrf_token %}            
        <button name="id" value={{todo.id }}  type="submit">Delete</button>
        </form>
        <form method="post" action="select">
            {% csrf_token %}            
        <button name="id" value={{todo.id }}   type="submit">Update</button>
        </form>
        </div>
        <hr>
        <div style="display: flex; gap:10px" >
        <p>Due Date: {{ todo.due_date }}</p>
        <p>Tags: {{ todo.tags }}</p>
        <p>Status: {{ todo.status }}</p>
        </div> 
        <p><b>Description: </b> {{ todo.description }}</p>
    </li>
    {% empty %}
    <li>No tasks found.</li>
{% endfor %}
    
    </ul>
    
</body>
</html>